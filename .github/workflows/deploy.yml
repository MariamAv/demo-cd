name: deploy

on:
  push:
    branches: [main]

jobs:
  conventional-commit:
    name: "conventional commit"
    runs-on: ubuntu-latest
    steps:
    - name: "affichage d'un message d'exemple"
    - run: echo "Salutations"
    - name: "pull du git"
    - uses: actions/checkout@v2 
    - name: "installation du NodeJS version 14"
    - uses: actions/setup-node@v2 
      with: 
        node-version: "14"
    - name: "configuration de l'utilisateur git"
    - run: |
        git config --local user.email "github-actions[bot]@users.noreply.github.com"
        git config --local user.name "github-actions[bot]"
    - name: "cr√©ation du CHANGELOG et du calcul de version"
    - run: npx standard-version 
    - name: "git push"
    - uses: ad-m/github-push-action@master 
      with:
        github-token: ${{secrets.GITHUB_TOKEN}}
        branch: main


    